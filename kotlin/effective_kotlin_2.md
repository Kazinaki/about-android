- [Назад](/./kotlin.md)

## Null проблемы из других платформ

Так Котлин является null-safety языком, то при использовании кода других платформ, не поддерживающих null-safety, могут (и будут) появляться проблемы с NPE.
Пример кода

``` kotlin
// Java
public class JavaUser() {
    public String getName() {
        return null
    }
}

// Kotlin
fun main() {
    val name = JavaUser().getName
    println(name.length)
}

fun main1() {
    val name: String = JavaUser().getName
    println(name.length)
}
```

В данном случае, используем в Котлин коде Java класс, думая что он возвратит String. Этот код упадет в обеих функциях main() и main1(), но в разных местах. В main() он упадет при попытке вывода, т.к. Котлин автоматически выведет тип переменной как Srting?. А в main1() упадет сразу при попытке присвоить переменной значение, т.к. тип переменной указан явно, что является предпочтительным - потому что  мы сразу узнаем где пришел null.

В итоге:
1. Если пишете не-Котлин код, который будет использоваться в Котлин, то надо указывать аннотации @NotNull, @Nullable и подобные.
2. Если пишете на Котлин, то внимательно работайте с не null-safety языками. Лучше обрабатывать null, как можно раньше, чем потом писать !!
